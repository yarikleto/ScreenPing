<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ScreenPing</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; padding: 20px; background: #1a1a2e; color: #eee; }
    h1 { font-size: 18px; margin-bottom: 16px; color: #e94560; }
    .section { margin-bottom: 16px; }
    label { display: block; font-size: 13px; margin-bottom: 4px; color: #aaa; }
    input { width: 100%; padding: 8px; border: 1px solid #333; border-radius: 4px; background: #16213e; color: #eee; font-size: 14px; }
    input:focus { outline: none; border-color: #e94560; }
    button { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 600; }
    .btn-primary { background: #e94560; color: white; }
    .btn-primary:hover { background: #c73652; }
    .btn-secondary { background: #16213e; color: #eee; border: 1px solid #333; }
    .btn-secondary:hover { background: #1a1a2e; }
    .btn-stop { background: #ff6b35; color: white; }
    .btn-stop:hover { background: #e55a2b; }
    .region-info { font-size: 13px; color: #0f3460; background: #e2e2e2; padding: 8px; border-radius: 4px; margin-top: 8px; }
    .status { font-size: 13px; padding: 8px; background: #16213e; border-radius: 4px; border: 1px solid #333; min-height: 60px; }
    .status .line { margin-bottom: 4px; }
    .log { font-size: 12px; font-family: monospace; padding: 8px; background: #0f3460; border-radius: 4px; max-height: 120px; overflow-y: auto; margin-top: 8px; }
    .log .entry { margin-bottom: 2px; color: #aaa; }
    .log .entry.alert { color: #e94560; font-weight: bold; }
    .buttons { display: flex; gap: 8px; margin-top: 12px; }
    .hidden { display: none; }
    .row { display: flex; gap: 12px; }
    .row > .section { flex: 1; }
    .help { font-size: 11px; color: #666; margin-top: 4px; }
    .help a { color: #e94560; text-decoration: none; }
    .help a:hover { text-decoration: underline; }
    .help-box { font-size: 12px; color: #aaa; background: #16213e; border: 1px solid #333; border-radius: 4px; padding: 10px; margin-bottom: 16px; line-height: 1.6; }
    .help-box summary { cursor: pointer; color: #e94560; font-weight: 600; font-size: 13px; }
    .help-box ol { margin: 8px 0 0 18px; }
    .help-box code { background: #0f3460; padding: 1px 5px; border-radius: 3px; font-size: 11px; }
    .help-box a { color: #5dade2; text-decoration: none; }
    .help-box a:hover { text-decoration: underline; color: #85c1e9; }
  </style>
</head>
<body>
  <h1>ScreenPing</h1>

  <details class="help-box">
    <summary>How to get Telegram Bot Token & Chat ID</summary>
    <p style="margin-top: 8px;"><strong>Bot Token:</strong></p>
    <ol>
      <li>Open Telegram, find <a href="https://t.me/BotFather">@BotFather</a></li>
      <li>Send <code>/newbot</code>, pick a name and username</li>
      <li>BotFather replies with a token like <code>123456:ABC-DEF...</code> â€” copy it</li>
    </ol>
    <p style="margin-top: 8px;"><strong>Chat ID (where to send alerts):</strong></p>
    <ol>
      <li><strong>Personal chat:</strong> open your bot in Telegram, send <code>/start</code></li>
      <li><strong>Group:</strong> add bot to the group, send any message there</li>
      <li>Paste token above, then click <strong>"Fetch Chat ID"</strong> below</li>
    </ol>
  </details>

  <div class="section">
    <label>Telegram Bot Token</label>
    <input id="token" type="text" placeholder="123456:ABC-DEF...">
  </div>

  <div class="section">
    <label>Telegram Chat ID</label>
    <div style="display: flex; gap: 8px;">
      <input id="chatId" type="text" placeholder="-1001234567890" style="flex: 1;">
      <button id="btnFetchChatId" class="btn-secondary" style="white-space: nowrap; padding: 8px 12px; font-size: 12px;">Fetch Chat ID</button>
    </div>
    <div id="fetchStatus" class="help" style="margin-top: 4px;"></div>
  </div>

  <div class="row">
    <div class="section">
      <label>Interval (sec)</label>
      <input id="interval" type="number" value="10" min="1" max="300">
    </div>
    <div class="section">
      <label>Threshold (%)</label>
      <input id="threshold" type="number" value="15" min="1" max="100">
    </div>
  </div>

  <div class="section">
    <button id="btnRegion" class="btn-secondary">Select Region</button>
    <div id="regionInfo" class="region-info hidden"></div>
  </div>

  <div class="buttons">
    <button id="btnStart" class="btn-primary">Start Monitoring</button>
    <button id="btnStop" class="btn-stop hidden">Stop Monitoring</button>
  </div>

  <div class="section" style="margin-top: 16px;">
    <label>Status</label>
    <div id="status" class="status">
      <div class="line">Idle</div>
    </div>
    <div id="log" class="log"></div>
  </div>

  <div class="help" style="margin-top: 12px;">Ctrl+Shift+Space to toggle monitoring globally</div>

  <script src="renderer.js"></script>
</body>
</html>
